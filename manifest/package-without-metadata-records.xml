<?xml version="1.0" encoding="UTF-8"?>
<Package xmlns="http://soap.sforce.com/2006/04/metadata">
    <!-- 1. Custom Objects First -->
    <types>
        <members>Round_Robin_Assignment_State__c</members>
        <members>Round_Robin_Queue_Config__mdt</members>
        <name>CustomObject</name>
    </types>
    
    <!-- 2. Custom Fields Second -->
    <types>
        <!-- Lead Custom Fields -->
        <members>Lead.Route_to_Round_Robin__c</members>
        <members>Lead.Round_Robin_Processing__c</members>
        <members>Lead.Assigned_Through_Round_Robin__c</members>
        <members>Lead.Round_Robin_Assignment_DateTime__c</members>
        <members>Lead.Round_Robin_Queue__c</members>
        <members>Lead.Round_Robin_Triggered_By__c</members>
        <members>Lead.Round_Robin_Source__c</members>
        <members>Lead.Last_Round_Robin_Error__c</members>
        <members>Lead.Last_Round_Robin_Attempt__c</members>
        <!-- Round Robin Assignment State Fields -->
        <members>Round_Robin_Assignment_State__c.Current_Queue_Index__c</members>
        <members>Round_Robin_Assignment_State__c.Queue_User_Indices__c</members>
        <members>Round_Robin_Assignment_State__c.Total_Assignments__c</members>
        <members>Round_Robin_Assignment_State__c.Last_Assignment_DateTime__c</members>
        <members>Round_Robin_Assignment_State__c.Last_Assigned_User__c</members>
        <!-- Custom Metadata Type Fields -->
        <members>Round_Robin_Queue_Config__mdt.Queue_ID__c</members>
        <members>Round_Robin_Queue_Config__mdt.Queue_Developer_Name__c</members>
        <members>Round_Robin_Queue_Config__mdt.Is_Active__c</members>
        <members>Round_Robin_Queue_Config__mdt.Sort_Order__c</members>
        <name>CustomField</name>
    </types>
    
    <!-- 3. Apex Classes -->
    <types>
        <members>RoundRobinTestHelper</members>
        <members>RoundRobinAssignmentHandler</members>
        <members>RoundRobinAssignmentHandlerTest</members>
        <members>RoundRobinDeploymentValidator</members>
        <name>ApexClass</name>
    </types>
    
    <!-- 4. Apex Triggers Last -->
    <types>
        <members>LeadRoundRobinTrigger</members>
        <name>ApexTrigger</name>
    </types>
    
    <version>59.0</version>
</Package>